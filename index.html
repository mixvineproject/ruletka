<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Рулетка</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(270deg, blue, orange);
            background-size: 400% 400%;
            animation: gradient 10s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #roulette {
            position: relative;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            border: 10px solid #fff;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .slot {
            position: absolute;
            width: 50%;
            height: 50%;
            background-color: transparent;
            border: 1px solid black;
            transform-origin: 100% 100%;
            clip-path: polygon(100% 0, 0 100%, 100% 100%);
        }

        #result {
            display: none;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            position: relative;
        }

        .winner-epic {
            box-shadow: 0 0 20px purple;
        }

        .winner-mythic {
            box-shadow: 0 0 20px red;
        }

        .winner-legendary {
            box-shadow: 0 0 30px yellow;
        }

        button {
            padding: 10px 20px;
            margin-top: 10px;
            cursor: pointer;
        }

        footer {
            position: absolute;
            bottom: 10px;
            text-align: center;
            font-size: 12px;
        }
    </style>
</head>
<body>

<div id="roulette"></div>
<div id="result">
    <h2 id="prize-name"></h2>
    <p>Заскриньте и отправьте боту в Telegram.</p>
    <a id="telegram-link" href="https://t.me/mixvinebot" target="_blank">
        <button>Перейти к боту</button>
    </a>
</div>
<button id="spin-button">Крутить рулетку</button>
<p>Нажмите "Крутить рулетку", чтобы испытать удачу!</p>
<p>Если вы столкнулись с проблемой, свяжитесь с ботом MixVine (<a href="https://t.me/mixvinebot" target="_blank">https://t.me/mixvinebot</a>)</p>

<footer>
    © Project MixVine 2024 <br>
    ver. web3.1Global
</footer>

<script>
    const prizes = [
        { name: "Слабый приз", weight: 50 },
        { name: "Обычный приз", weight: 40 },
        { name: "Необычный приз", weight: 30 },
        { name: "Редкий приз", weight: 25 },
        { name: "Эпический приз", weight: 20 },
        { name: "Мифический приз", weight: 10 },
        { name: "Легендарный приз", weight: 5 }
    ];

    function createSlots() {
        const roulette = document.getElementById('roulette');
        for (let i = 0; i < prizes.length; i++) {
            const slot = document.createElement('div');
            slot.className = 'slot';
            slot.style.transform = `rotate(${(i * (360 / prizes.length))}deg)`;
            roulette.appendChild(slot);
        }
    }

    function spinRoulette() {
        const randomValue = Math.random() * 100;
        let accumulatedWeight = 0;
        let selectedPrize;

        for (const prize of prizes) {
            accumulatedWeight += prize.weight;
            if (randomValue < accumulatedWeight) {
                selectedPrize = prize;
                break;
            }
        }

        return selectedPrize;
    }

    function showResult(prize) {
        const resultDiv = document.getElementById('result');
        const prizeName = document.getElementById('prize-name');
        prizeName.textContent = prize.name;

        resultDiv.className = ''; // Reset class
        if (prize.name === "Эпический приз") {
            resultDiv.classList.add('winner-epic');
        } else if (prize.name === "Мифический приз") {
            resultDiv.classList.add('winner-mythic');
        } else if (prize.name === "Легендарный приз") {
            resultDiv.classList.add('winner-legendary');
            prizeName.textContent += " - Поздравляем!";
        }

        resultDiv.style.display = 'block';
    }

    document.getElementById('spin-button').addEventListener('click', () => {
        const selectedPrize = spinRoulette();
        showResult(selectedPrize);
    });

    createSlots();
</script>

</body>
</html>
